
Mail API（用于真实邮箱流测试）

注意：
- 不要把真实 API Key 写进仓库文件；请使用环境变量或本地 `.env` 保存。
- 示例中的域名 `moemail.app` 仅用于演示，请以 `/api/config` 返回的可用域名为准。

后端环境变量（推荐作为 SSOT）：
- `MAIL_API_KEY`：Mail API Key（必需）
- `MAIL_API_BASE_URL`：默认 `https://taxbattle.xyz`（可选）
- `MAIL_DOMAIN`：优先使用的邮箱域名（可选；未设置时会从 `/api/config` 取第一个）
- `MAIL_EXPIRY_MS`：邮箱有效期（毫秒，默认 3600000）

获取系统配置（查询可用域名等）

curl https://taxbattle.xyz/api/config \
  -H "X-API-Key: YOUR_API_KEY"
生成临时邮箱

curl -X POST https://taxbattle.xyz/api/emails/generate \
  -H "X-API-Key: YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "name": "test",
    "expiryTime": 3600000,
    "domain": "moemail.app"
  }'
获取邮箱列表

curl https://taxbattle.xyz/api/emails?cursor=CURSOR \
  -H "X-API-Key: YOUR_API_KEY"
获取邮件列表

curl https://taxbattle.xyz/api/emails/{emailId}?cursor=CURSOR \
  -H "X-API-Key: YOUR_API_KEY"
获取单封邮件

curl https://taxbattle.xyz/api/emails/{emailId}/{messageId} \
  -H "X-API-Key: YOUR_API_KEY"
注意：

请将 YOUR_API_KEY 替换为你的实际 API Key
/api/config 接口可获取系统配置，包括可用的邮箱域名列表
emailId 是邮箱的唯一标识符
messageId 是邮件的唯一标识符
expiryTime 是邮箱的有效期（毫秒），可选值：3600000（1小时）、86400000（1天）、604800000（7天）、0（永久）
domain 是邮箱域名，可通过 /api/config 接口获取可用域名列表
cursor 用于分页，从上一次请求的响应中获取 nextCursor
所有请求都需要包含 X-API-Key 请求头
