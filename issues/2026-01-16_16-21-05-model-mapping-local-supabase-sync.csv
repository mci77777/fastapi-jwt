ID,Title,Description,Acceptance,Test_Method,Tools,Dev_Status,Review1_Status,Regression_Status,Files,Dependencies,Notes
A1,Supabase 表 model_mappings 对齐,在 Supabase 侧补齐 `public.model_mappings` 表结构与 RLS；字段需覆盖后端推送 payload（id scope_type scope_key name default_model candidates is_active updated_at source metadata）；与 `ai_model/ai_prompt` 脚本风格一致并可复现执行,SQL 脚本可在 Dashboard 执行且成功；service_role 可写入与 upsert；authenticated 仅可读；不影响现有 `ai_model/ai_prompt` 与对话链路,手工在 Supabase Dashboard 执行 SQL；再用后端同步接口写入验证；若已存在则脚本幂等,functions.shell_command;functions.apply_patch,TODO,TODO,TODO,scripts/deployment/sql/create_ai_config_tables.sql;docs/schemas/supabase.sql,无,若确认必须复用 `ai_model` 承载映射则需改为新方案并调整本条
A2,前端映射页导出与同步,在 `/ai` 模型映射页新增“导出本地 JSON”与“同步到 Supabase”按钮；导出文件仅包含映射数据与导出时间戳且不含敏感字段；同步复用现有 `/api/v1/llm/model-groups/sync-to-supabase` 并展示结果状态与数量,页面可下载 JSON；同步成功提示包含 synced_count 或 skipped 原因；按钮支持重复执行且状态可见；失败时提示可定位信息,`cd web && pnpm build`；浏览器手动冒烟导出与同步流程,mcp__feedback__codebase-retrieval;functions.shell_command;functions.apply_patch,TODO,TODO,TODO,web/src/views/ai/model-suite/mapping/index.vue;web/src/store/modules/aiModelSuite.js;web/src/api/aiModelSuite.js,依赖 A1 的 Supabase 表对齐,导出文件命名建议含时间戳与环境标识
A3,验证与回滚说明,补齐最小验证清单并确保构建与测试通过；记录回滚路径与 Supabase 侧恢复策略,`make test` 与 `cd web && pnpm build` 通过；同步接口在 Supabase 未配置时不 500 且返回可解释状态；回滚步骤清晰可执行,`make test`；`cd web && pnpm build`；手工 `curl` 调用同步接口对比返回,functions.shell_command,TODO,TODO,TODO,plan/2026-01-16_16-21-05-model-mapping-local-supabase-sync.md;app/api/v1/llm_mappings.py,依赖 A1 A2 完成后执行,若 Supabase 已存在表需确认字段类型兼容（text[] vs jsonb）
