ID,Title,Description,Acceptance,Test_Method,Tools,Dev_Status,Review1_Status,Regression_Status,Files,Dependencies,Notes
B1,前端：JWT 测试页支持映射模型选择,在 `/ai/jwt` 增加“模型来源”选择：映射模型（model-groups）/端点配置模型/供应商模型列表；默认使用映射模型并展示映射→真实模型提示。,映射模型可被选择并作为 `model` 发送；不再默认把供应商列表当作可选模型。,打开 `/ai/jwt` 选择“映射模型”后发送消息，后端日志/trace 里的 `model` 为解析后的真实模型。,functions:exec_command;functions:apply_patch,DONE,TODO,TODO,web/src/views/test/real-user-sse.vue,GET /api/v1/llm/model-groups,优先用 `mapping.id`（如 `global:global`）作为 value，避免 name/scope_key 冲突。
B2,后端：统一解析映射模型并放宽校验,对 `openai.model` 与 endpoint fallback model 统一做映射解析；当用户传入映射 key 时，指定 endpoint 也不因 `model_list` 不包含而误报 `model_not_supported_by_endpoint`。,使用映射模型时对话可正常发起；不再因 `model_list` 缺失/不可信导致误拦截。,用映射 key 作为 `model` 发送消息（或把 endpoint.model 配为映射 key），对话仍能完成并返回 completed。,functions:exec_command;functions:apply_patch,DONE,TODO,TODO,app/services/ai_service.py,ModelMappingService,仅对“映射命中/解析发生变化”场景放宽校验；非映射模型保持原校验。
B3,部署验证：重建 app + 重置 SQLite,在合并到 main 后复用现有 docker 重建 `app`；按要求重置 `data/db.sqlite3` 并跑健康检查与 `/ai/jwt` 手工 E2E。,`docker compose up -d --build app` 成功且健康检查 200；`/ai/jwt` 映射模型可用且 SSE 收到 completed。,执行 `curl http://localhost:9999/api/v1/healthz`；浏览器验证 `/ai/jwt` 全链路。,functions:exec_command,DONE,TODO,TODO,docker-compose.yml;data/db.sqlite3,FRP/反代链路可用,DB 重置会清空已保存测试用户与历史数据；需要的话再用“一键获取测试用户/匿名 JWT”重新生成。
